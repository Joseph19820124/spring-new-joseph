[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.example:spring-boot-4-demo >-------------------
[INFO] Building spring-boot-4-demo 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.3.5:run (default-cli) > test-compile @ spring-boot-4-demo >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ spring-boot-4-demo ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 0 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ spring-boot-4-demo ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ spring-boot-4-demo ---
[INFO] skip non existing resourceDirectory /Users/chenjian/Documents/ai_projects/spring-boot-4/spring-boot-4-demo/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ spring-boot-4-demo ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] <<< spring-boot:3.3.5:run (default-cli) < test-compile @ spring-boot-4-demo <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.3.5:run (default-cli) @ spring-boot-4-demo ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.5)

10:40:52.818 [main] INFO  c.e.demo.SpringBoot4DemoApplication - Starting SpringBoot4DemoApplication using Java 23.0.1 with PID 72257 (/Users/chenjian/Documents/ai_projects/spring-boot-4/spring-boot-4-demo/target/classes started by chenjian in /Users/chenjian/Documents/ai_projects/spring-boot-4/spring-boot-4-demo)
10:40:52.819 [main] DEBUG c.e.demo.SpringBoot4DemoApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
10:40:52.819 [main] INFO  c.e.demo.SpringBoot4DemoApplication - No active profile set, falling back to 1 default profile: "default"
10:40:53.288 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:40:53.369 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 1 JPA repository interface.
10:40:53.801 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
10:40:53.820 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
10:40:53.820 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
10:40:53.894 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
10:40:53.895 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1041 ms
10:40:53.968 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
10:40:54.175 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
10:40:54.176 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
10:40:54.251 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
10:40:54.323 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
10:40:54.383 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
10:40:54.418 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
10:40:54.437 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
10:40:54.622 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
10:40:55.145 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    drop table if exists users cascade 
Hibernate: 
    create table users (
        created_at timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
10:40:55.163 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
10:40:56.188 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
10:40:56.349 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
10:40:56.398 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
10:40:56.418 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
10:40:56.440 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
10:40:56.641 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
10:40:56.717 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
10:40:56.725 [main] INFO  c.e.demo.SpringBoot4DemoApplication - Started SpringBoot4DemoApplication in 4.152 seconds (process running for 4.467)
10:40:56.779 [main] INFO  c.e.demo.config.DataInitializer - Initializing sample data...
Hibernate: 
    insert 
    into
        users
        (created_at, email, username, id) 
    values
        (?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, username, id) 
    values
        (?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, username, id) 
    values
        (?, ?, ?, default)
10:40:56.835 [main] INFO  c.e.demo.config.DataInitializer - Sample data initialized successfully
10:40:56.835 [main] INFO  c.e.demo.config.DataInitializer - Running on thread: Thread[#1,main,5,main]
10:41:13.559 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
10:41:13.560 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
10:41:13.560 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
10:41:13.560 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
10:41:13.560 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
10:41:13.563 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ff2a096
10:41:13.564 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@45398bb0
10:41:13.564 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
10:41:13.565 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
10:41:13.579 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - GET "/actuator/health", parameters={}
10:41:13.596 [tomcat-handler-0] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/octet-stream" to []
10:41:13.614 [tomcat-handler-0] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
10:41:13.637 [tomcat-handler-0] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@73220d03]
10:41:13.663 [tomcat-handler-0] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
10:41:22.434 [tomcat-handler-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
10:41:22.448 [tomcat-handler-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.demo.controller.UserController#getAllUsers()
10:41:22.473 [tomcat-handler-1] DEBUG c.example.demo.service.UserService - Finding all users in thread: VirtualThread[#45,tomcat-handler-1]/runnable@ForkJoinPool-1-worker-1
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.username 
    from
        users u1_0
10:41:22.661 [tomcat-handler-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
10:41:22.661 [tomcat-handler-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[com.example.demo.model.User@2247e363, com.example.demo.model.User@166e7785, com.example.demo.model. (truncated)...]
10:41:22.673 [tomcat-handler-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
10:41:31.536 [tomcat-handler-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
10:41:31.539 [tomcat-handler-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.demo.controller.UserController#createUser(User)
10:41:31.604 [tomcat-handler-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.demo.model.User@3d54a718]
10:41:31.606 [tomcat-handler-3] DEBUG c.example.demo.service.UserService - Saving user: test_virtual in thread: VirtualThread[#47,tomcat-handler-3]/runnable@ForkJoinPool-1-worker-1
Hibernate: 
    insert 
    into
        users
        (created_at, email, username, id) 
    values
        (?, ?, ?, default)
10:41:31.614 [tomcat-handler-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
10:41:31.614 [tomcat-handler-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.example.demo.model.User@3d54a718]
10:41:31.616 [tomcat-handler-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
10:41:38.268 [tomcat-handler-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reactive/mono", parameters={}
10:41:38.273 [tomcat-handler-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.demo.controller.ReactiveController#getMono()
10:41:38.340 [tomcat-handler-5] DEBUG o.s.w.c.r.async.WebAsyncManager - Started async request for "/api/reactive/mono"
10:41:38.343 [tomcat-handler-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting but response remains open for further handling
10:41:39.339 [parallel-1] INFO  c.e.d.controller.ReactiveController - Producing: Hello from Mono! on thread: parallel-1
10:41:39.344 [parallel-1] DEBUG o.s.w.c.r.async.WebAsyncManager - Async result set for "/api/reactive/mono"
10:41:39.344 [parallel-1] DEBUG o.s.w.c.r.async.WebAsyncManager - Performing async dispatch for "/api/reactive/mono"
10:41:39.357 [tomcat-handler-6] DEBUG o.s.web.servlet.DispatcherServlet - "ASYNC" dispatch for GET "/api/reactive/mono", parameters={}
10:41:39.359 [tomcat-handler-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Resume with async result ["Hello from Mono!"]
10:41:39.365 [tomcat-handler-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
10:41:39.365 [tomcat-handler-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing ["Hello from Mono!"]
10:41:39.368 [tomcat-handler-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ASYNC" dispatch, status 200
10:41:48.209 [tomcat-handler-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reactive/github/octocat", parameters={}
10:41:48.211 [tomcat-handler-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.demo.controller.ReactiveController#getGithubUser(String)
10:41:48.242 [tomcat-handler-7] INFO  c.e.d.controller.ReactiveController - Fetching GitHub user: octocat on thread: tomcat-handler-7
10:41:49.809 [tomcat-handler-7] DEBUG o.s.web.client.DefaultRestClient - Reading to [java.util.Map<?, ?>]
10:41:49.816 [tomcat-handler-7] DEBUG o.s.w.c.r.async.WebAsyncManager - Started async request for "/api/reactive/github/octocat"
10:41:49.817 [tomcat-handler-7] DEBUG o.s.w.c.r.async.WebAsyncManager - Async result set for "/api/reactive/github/octocat"
10:41:49.817 [tomcat-handler-7] DEBUG o.s.w.c.r.async.WebAsyncManager - Performing async dispatch for "/api/reactive/github/octocat"
10:41:49.817 [tomcat-handler-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting but response remains open for further handling
10:41:49.817 [tomcat-handler-7] DEBUG o.s.web.servlet.DispatcherServlet - "ASYNC" dispatch for GET "/api/reactive/github/octocat", parameters={}
10:41:49.818 [tomcat-handler-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Resume with async result [{login=octocat, id=583231, node_id=MDQ6VXNlcjU4MzIzMQ==, avatar_url=https://avatars.githubuserconten (truncated)...]
10:41:49.819 [tomcat-handler-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
10:41:49.819 [tomcat-handler-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{login=octocat, id=583231, node_id=MDQ6VXNlcjU4MzIzMQ==, avatar_url=https://avatars.githubuserconten (truncated)...]
10:41:49.821 [tomcat-handler-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ASYNC" dispatch, status 200
10:41:57.270 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
10:41:57.297 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
10:41:57.319 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: 
    drop table if exists users cascade 
10:41:57.333 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
10:41:57.340 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
